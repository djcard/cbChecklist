"use strict";(self.webpackChunkcbChecklist=self.webpackChunkcbChecklist||[]).push([[3050,8760,7463,559,2188,8609,6063,7811,4565,2111],{8760:function(t,e,n){n.r(e),n.d(e,{updateSiteModelChecklist:function(){return i}});var i=function(t){return{type:"UPDATE_SITE_MODEL_CHECKLIST",payload:t}}},7463:function(t,e,n){n.r(e),n.d(e,{addControlSet:function(){return d},addTabGroup:function(){return r},addTabPanelGroup:function(){return s},addTabToGroup:function(){return a},addToControlBlock:function(){return i},removeFromControlBlock:function(){return c},removeTabFromGroup:function(){return o},removeTabGroup:function(){return u},toggleTab:function(){return l}});var i=function(t){return{type:"ADD_TO_CONTROL_BLOCK",payload:t}},c=function(t){return{type:"REMOVE_FROM_CONTROL_BLOCK",payload:t}},r=function(t){return{type:"ADD_TAB_GROUP",payload:t}},u=function(t){return{type:"REMOVE_TAB_GROUP",payload:t}},a=function(t){return{type:"ADD_TAB_TO_GROUP",payload:t}},o=function(t,e){return{type:"REMOVE_TAB_FROM_GROUP",payload:{groupName:t,keyName:e}}},l=function(t,e){return{type:"TOGGLE_TAB",payload:{groupName:t,key:e}}},s=function(t){return{type:"ADD_TAB_PANEL_GROUP",payload:t}},d=function(t){return{type:"ADD_CONTROLS",payload:t}}},3050:function(t,e,n){n.r(e);var i=n(8687),c=n(8026),r=n(559),u=n(184);e.default=(0,i.$j)((function(t){return{siteModelChecklist:t.siteModelChecklist}}),{})((function(){var t,e=null!==(t=c.default.getState().siteModelChecklist)&&void 0!==t&&t.allChecklists?c.default.getState().siteModelChecklist.allChecklists:[];return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-6",children:(0,u.jsx)("h3",{children:"Choose"})}),(0,u.jsx)("div",{className:"col-6",style:{textAlign:"right"}})]}),(0,u.jsxs)("table",{className:"table table-striped table-bordered",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{}),(0,u.jsx)("th",{children:"Name"}),(0,u.jsx)("th",{children:"Description"}),(0,u.jsx)("th",{children:"Display"}),(0,u.jsx)("th",{children:"Status"}),(0,u.jsx)("th",{children:" "}),(0,u.jsx)("th",{})]})}),(0,u.jsxs)("tbody",{children:[e.map((function(t,e){return(0,u.jsx)(r.default,{item:t,idx:e},t.id)})),(0,u.jsx)(r.default,{item:{},idx:e.length+1})]})]})]})}))},559:function(t,e,n){n.r(e);var i=n(885),c=n(6063),r=n(8609),u=n(2791),a=n(8026),o=n(8760),l=n(4565),s=n(8687),d=n(2188),f=n(7811),h=n(184),p=function(t,e){var n,i=null!==(n=a.default.getState().siteModelChecklist)&&void 0!==n&&n.currentChecklist?a.default.getState().siteModelChecklist.currentChecklist:{};i[t]=e,"displayorder"===t&&(i.updateOrder=1),a.default.dispatch((0,o.updateSiteModelChecklist)({currentChecklist:i}))};e.default=(0,s.$j)((function(t){return{siteModelChecklist:t.siteModelChecklist}}),{})((function(t){var e,n,s,C,k=t.item,v=t.idx,b=(0,u.useState)(!(null!==(e=k.id)&&void 0!==e&&e.length)),g=(0,i.Z)(b,2),x=g[0],j=g[1],y=null!==(n=a.default.getState().siteModelChecklist)&&void 0!==n&&n.allChecklists?a.default.getState().siteModelChecklist.allChecklists:[],m=null!==(s=a.default.getState().siteModelChecklist)&&void 0!==s&&s.currentChecklist?a.default.getState().siteModelChecklist.currentChecklist:{},O=m.id;(0,u.useEffect)((function(){O!==k.id&&j(0)}),[O,k.id]);var S=(0,h.jsx)(f.default,{val:m.statusName,action:function(){}}),T=(0,h.jsx)("input",{type:"text",className:"form-control",value:m.name,onChange:function(t){return p("name",t.target.value)}}),M=(0,h.jsx)("input",{type:"text",className:"form-control",value:m.description,onChange:function(t){return p("description",t.target.value)}}),R=x?(0,h.jsx)("button",{className:"btn btn-primary",onClick:function(){return j(0),void(0,l.updateCheckList)(Object.assign({},m))},children:"Save"}):(0,h.jsx)("button",{className:"btn btn-info",onClick:function(){j(1),a.default.dispatch((0,o.updateSiteModelChecklist)({currentChecklist:k}))},children:"Edit"}),_=x?(0,h.jsx)(d.default,{length:y.length,val:k.displayorder,action:function(t){p("displayorder",t)}}):k.displayorder+1;return null!==(C=k.id)&&void 0!==C&&C.length||x?(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{style:{backgroundColor:["","green","Aqua","GreenYellow","DarkOrange","black"][null!==k&&void 0!==k&&k.status?k.status:0]},children:parseInt(v)+1}),(0,h.jsx)("td",{children:x?T:k.name}),(0,h.jsx)("td",{children:x?M:k.description}),(0,h.jsx)("td",{children:_}),(0,h.jsx)("td",{children:x?S:k.statusname}),(0,h.jsx)("td",{children:(0,h.jsx)(c.default,{item:k})}),(0,h.jsxs)("td",{children:[(0,h.jsx)(r.default,{id:k.id})," "]}),(0,h.jsxs)("td",{children:[" ",R]})]}):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:7,children:(0,h.jsx)("button",{onClick:function(){j(1),a.default.dispatch((0,o.updateSiteModelChecklist)({currentChecklist:{id:"",displayorder:1e3}}))},children:"New"})})})}))},2188:function(t,e,n){n.r(e);var i=n(184);e.default=function(t){var e=t.length,n=t.val,c=t.action,r=Array.apply(null,Array(e)).map((function(t,e){return e}));return(0,i.jsxs)("select",{value:n,onChange:function(t){c(t.target.value)},children:[(0,i.jsx)("option",{value:""}),r.map((function(t){return(0,i.jsx)("option",{value:t,children:t+1})}))]})}},8609:function(t,e,n){n.r(e);var i=n(4565),c=n(184);e.default=function(t){var e=t.id;return(0,c.jsx)("button",{onClick:function(){return(0,i.updateCheckList)({id:e,active:0})},className:"btn btn-danger",children:"Inactive"})}},6063:function(t,e,n){n.r(e);var i=n(8026),c=n(8760),r=n(7463),u=n(184);e.default=function(t){var e=t.item;return(0,u.jsx)("button",{onClick:function(){i.default.dispatch((0,c.updateSiteModelChecklist)({currentChecklist:Object.assign({},e)})),i.default.dispatch((0,r.toggleTab)("checkTabs","execute"))},className:"btn btn-info",children:"Open"})}},7811:function(t,e,n){n.r(e);var i=n(184);e.default=function(t){t.val,t.action;return(0,i.jsx)("select",{})}},4565:function(t,e,n){n.r(e),n.d(e,{checkWindow:function(){return o},makeCheckListInactive:function(){return h},obtainChecklistDetails:function(){return v},obtainChecklists:function(){return p},obtainGoals:function(){return m},obtainResults:function(){return T},obtainTargets:function(){return x},saveChecklistGoal:function(){return D},saveChecklistTarget:function(){return d},updateCheckList:function(){return l},updateResult:function(){return L}});var i=n(2111),c=n(8026),r=n(8760),u=n(4452),a=0,o=function(){var t=setInterval((function(){var e;(null!==(e=window.SITEMODEL)&&void 0!==e&&e.exists()||3===a)&&(c.default.dispatch((0,r.updateSiteModelChecklist)({windowSetup:!0})),clearInterval(t)),a++}),3e3)},l=function(t){(0,i.doUpdateChecklist)(t,C,s)},s=function(t){console.dir(t)},d=function(t){console.dir(t),delete t.numOptions,(0,i.doSaveChecklistTarget)(t,j,f)},f=function(t){console.dir(t)},h=function(t){console.dir("Making inactive")},p=function(){(0,i.doObtainChecklists)(C,k)},C=function(t){c.default.dispatch((0,r.updateSiteModelChecklist)({allChecklists:(0,u.lowerCaseKeys)(t.data.data)}))},k=function(t){console.dir(t)},v=function(t){(0,i.doObtainChecklistDetails)(t,b,g)},b=function(t){c.default.dispatch((0,r.updateSiteModelChecklist)({currentChecklist:(0,u.lowerCaseKeys)(t.data.data)}))},g=function(t){console.dir(t)},x=function(t){(0,i.doObtainTargets)(t,j,y)},j=function(t){c.default.dispatch((0,r.updateSiteModelChecklist)({currentChecklistTargets:(0,u.lowerCaseKeys)(t.data.data)}))},y=function(t){console.dir(t)},m=function(t){(0,i.doObtainGoals)(t,O,S)},O=function(t){c.default.dispatch((0,r.updateSiteModelChecklist)({currentChecklistGoals:(0,u.lowerCaseKeys)(t.data.data)}))},S=function(t){console.dir(t)},T=function(t){(0,i.doObtainResults)(t,M,_)},M=function(t){c.default.dispatch((0,r.updateSiteModelChecklist)({currentChecklistResults:R((0,u.lowerCaseKeys)(t.data.data))}))},R=function(t){var e={};return t.forEach((function(t){e[t.targetid]=e.hasOwnProperty(t.targetid)?e[t.targetid]:{},e[t.targetid][t.goalid]=t.result})),e},_=function(t){console.dir(t)},L=function(t,e,n,c){(0,i.doUpdateResult)(t,e,n,c,(function(e){return G(t,e)}),N)},G=function(t,e){T(t)},N=function(t){console.dir(t)},D=function(t){(0,i.doSaveChecklistGoal)(t,O,U)},U=function(t){console.dir(t)}},2111:function(t,e,n){n.r(e),n.d(e,{doObtainChecklistDetails:function(){return a},doObtainChecklists:function(){return u},doObtainGoals:function(){return l},doObtainResults:function(){return s},doObtainTargets:function(){return o},doSaveChecklistGoal:function(){return p},doSaveChecklistTarget:function(){return f},doUpdateChecklist:function(){return h},doUpdateResult:function(){return d}});var i=n(4569),c=n.n(i),r=n(4452),u=function(t,e){c().get((0,r.apiURL)()+"/cbChecklist/").then((function(e){return t(e)})).catch((function(t){return e(t)}))},a=function(t,e,n){c().get((0,r.apiURL)()+"/cbChecklist/"+t).then((function(t){return e(t)})).catch((function(t){return n(t)}))},o=function(t,e,n){c().get((0,r.apiURL)()+"/cbChecklist/targets/"+t).then((function(t){return e(t)})).catch((function(t){return n(t)}))},l=function(t,e,n){c().get((0,r.apiURL)()+"/cbChecklist/goals/"+t).then((function(t){return e(t)})).catch((function(t){return n(t)}))},s=function(t,e,n){c().get((0,r.apiURL)()+"/cbChecklist/results/"+t).then((function(t){return e(t)})).catch((function(t){return n(t)}))},d=function(t,e,n,i,u,a){c().post((0,r.apiURL)()+"/cbChecklist/results/"+t,{goal:n,target:e,result:i}).then((function(t){return u(t)})).catch((function(t){return a(t)}))},f=function(t,e,n){c().post((0,r.apiURL)()+"/cbChecklist/targets",{item:t}).then((function(t){return e(t)})).catch((function(t){return n(t)}))},h=function(t,e,n){c().post((0,r.apiURL)()+"/cbChecklist/",{item:t}).then((function(t){return e(t)})).catch((function(t){return n(t)}))},p=function(t,e,n){c().post((0,r.apiURL)()+"/cbChecklist/goals",{item:t}).then((function(t){return e(t)})).catch((function(t){return n(t)}))}}}]);
//# sourceMappingURL=3050.5e87f1c8.chunk.js.map