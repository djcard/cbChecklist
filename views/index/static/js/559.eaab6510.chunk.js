"use strict";(self.webpackChunkcbChecklist=self.webpackChunkcbChecklist||[]).push([[559,8760,7463,2188,8609,6063,7811,4565,2111],{8760:function(t,n,e){e.r(n),e.d(n,{updateSiteModelChecklist:function(){return i}});var i=function(t){return{type:"UPDATE_SITE_MODEL_CHECKLIST",payload:t}}},7463:function(t,n,e){e.r(n),e.d(n,{addControlSet:function(){return d},addTabGroup:function(){return u},addTabPanelGroup:function(){return s},addTabToGroup:function(){return o},addToControlBlock:function(){return i},removeFromControlBlock:function(){return c},removeTabFromGroup:function(){return a},removeTabGroup:function(){return r},toggleTab:function(){return l}});var i=function(t){return{type:"ADD_TO_CONTROL_BLOCK",payload:t}},c=function(t){return{type:"REMOVE_FROM_CONTROL_BLOCK",payload:t}},u=function(t){return{type:"ADD_TAB_GROUP",payload:t}},r=function(t){return{type:"REMOVE_TAB_GROUP",payload:t}},o=function(t){return{type:"ADD_TAB_TO_GROUP",payload:t}},a=function(t,n){return{type:"REMOVE_TAB_FROM_GROUP",payload:{groupName:t,keyName:n}}},l=function(t,n){return{type:"TOGGLE_TAB",payload:{groupName:t,key:n}}},s=function(t){return{type:"ADD_TAB_PANEL_GROUP",payload:t}},d=function(t){return{type:"ADD_CONTROLS",payload:t}}},559:function(t,n,e){e.r(n);var i=e(885),c=e(6063),u=e(8609),r=e(2791),o=e(8026),a=e(8760),l=e(4565),s=e(8687),d=e(2188),f=e(7811),h=e(184),p=function(t,n){var e,i=null!==(e=o.default.getState().siteModelChecklist)&&void 0!==e&&e.currentChecklist?o.default.getState().siteModelChecklist.currentChecklist:{};i[t]=n,"displayorder"===t&&(i.updateOrder=1),o.default.dispatch((0,a.updateSiteModelChecklist)({currentChecklist:i}))};n.default=(0,s.$j)((function(t){return{siteModelChecklist:t.siteModelChecklist}}),{})((function(t){var n,e,s,C,k=t.item,v=t.idx,b=(0,r.useState)(!(null!==(n=k.id)&&void 0!==n&&n.length)),g=(0,i.Z)(b,2),y=g[0],O=g[1],T=null!==(e=o.default.getState().siteModelChecklist)&&void 0!==e&&e.allChecklists?o.default.getState().siteModelChecklist.allChecklists:[],m=null!==(s=o.default.getState().siteModelChecklist)&&void 0!==s&&s.currentChecklist?o.default.getState().siteModelChecklist.currentChecklist:{},x=m.id;(0,r.useEffect)((function(){x!==k.id&&O(0)}),[x,k.id]);var S=(0,h.jsx)(f.default,{val:m.statusName,action:function(){}}),j=(0,h.jsx)("input",{type:"text",className:"form-control",value:m.name,onChange:function(t){return p("name",t.target.value)}}),R=(0,h.jsx)("input",{type:"text",className:"form-control",value:m.description,onChange:function(t){return p("description",t.target.value)}}),M=y?(0,h.jsx)("button",{className:"btn btn-primary",onClick:function(){return O(0),void(0,l.updateCheckList)(Object.assign({},m))},children:"Save"}):(0,h.jsx)("button",{className:"btn btn-info",onClick:function(){O(1),o.default.dispatch((0,a.updateSiteModelChecklist)({currentChecklist:k}))},children:"Edit"}),_=y?(0,h.jsx)(d.default,{length:T.length,val:k.displayorder,action:function(t){p("displayorder",t)}}):k.displayorder+1;return null!==(C=k.id)&&void 0!==C&&C.length||y?(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{style:{backgroundColor:["","green","Aqua","GreenYellow","DarkOrange","black"][null!==k&&void 0!==k&&k.status?k.status:0]},children:parseInt(v)+1}),(0,h.jsx)("td",{children:y?j:k.name}),(0,h.jsx)("td",{children:y?R:k.description}),(0,h.jsx)("td",{children:_}),(0,h.jsx)("td",{children:y?S:k.statusname}),(0,h.jsx)("td",{children:(0,h.jsx)(c.default,{item:k})}),(0,h.jsxs)("td",{children:[(0,h.jsx)(u.default,{id:k.id})," "]}),(0,h.jsxs)("td",{children:[" ",M]})]}):(0,h.jsx)("tr",{children:(0,h.jsx)("td",{colSpan:7,children:(0,h.jsx)("button",{onClick:function(){O(1),o.default.dispatch((0,a.updateSiteModelChecklist)({currentChecklist:{id:"",displayorder:1e3}}))},children:"New"})})})}))},2188:function(t,n,e){e.r(n);var i=e(184);n.default=function(t){var n=t.length,e=t.val,c=t.action,u=Array.apply(null,Array(n)).map((function(t,n){return n}));return(0,i.jsxs)("select",{value:e,onChange:function(t){c(t.target.value)},children:[(0,i.jsx)("option",{value:""}),u.map((function(t){return(0,i.jsx)("option",{value:t,children:t+1})}))]})}},8609:function(t,n,e){e.r(n);var i=e(4565),c=e(184);n.default=function(t){var n=t.id;return(0,c.jsx)("button",{onClick:function(){return(0,i.updateCheckList)({id:n,active:0})},className:"btn btn-danger",children:"Inactive"})}},6063:function(t,n,e){e.r(n);var i=e(8026),c=e(8760),u=e(7463),r=e(184);n.default=function(t){var n=t.item;return(0,r.jsx)("button",{onClick:function(){i.default.dispatch((0,c.updateSiteModelChecklist)({currentChecklist:Object.assign({},n)})),i.default.dispatch((0,u.toggleTab)("checkTabs","execute"))},className:"btn btn-info",children:"Open"})}},7811:function(t,n,e){e.r(n);var i=e(184);n.default=function(t){t.val,t.action;return(0,i.jsx)("select",{})}},4565:function(t,n,e){e.r(n),e.d(n,{checkWindow:function(){return a},makeCheckListInactive:function(){return h},obtainChecklistDetails:function(){return v},obtainChecklists:function(){return p},obtainGoals:function(){return m},obtainResults:function(){return j},obtainTargets:function(){return y},saveChecklistGoal:function(){return D},saveChecklistTarget:function(){return d},updateCheckList:function(){return l},updateResult:function(){return L}});var i=e(2111),c=e(8026),u=e(8760),r=e(4452),o=0,a=function(){var t=setInterval((function(){var n;(null!==(n=window.SITEMODEL)&&void 0!==n&&n.exists()||3===o)&&(c.default.dispatch((0,u.updateSiteModelChecklist)({windowSetup:!0})),clearInterval(t)),o++}),3e3)},l=function(t){(0,i.doUpdateChecklist)(t,C,s)},s=function(t){console.dir(t)},d=function(t){console.dir(t),delete t.numOptions,(0,i.doSaveChecklistTarget)(t,O,f)},f=function(t){console.dir(t)},h=function(t){console.dir("Making inactive")},p=function(){(0,i.doObtainChecklists)(C,k)},C=function(t){c.default.dispatch((0,u.updateSiteModelChecklist)({allChecklists:(0,r.lowerCaseKeys)(t.data.data)}))},k=function(t){console.dir(t)},v=function(t){(0,i.doObtainChecklistDetails)(t,b,g)},b=function(t){c.default.dispatch((0,u.updateSiteModelChecklist)({currentChecklist:(0,r.lowerCaseKeys)(t.data.data)}))},g=function(t){console.dir(t)},y=function(t){(0,i.doObtainTargets)(t,O,T)},O=function(t){c.default.dispatch((0,u.updateSiteModelChecklist)({currentChecklistTargets:(0,r.lowerCaseKeys)(t.data.data)}))},T=function(t){console.dir(t)},m=function(t){(0,i.doObtainGoals)(t,x,S)},x=function(t){c.default.dispatch((0,u.updateSiteModelChecklist)({currentChecklistGoals:(0,r.lowerCaseKeys)(t.data.data)}))},S=function(t){console.dir(t)},j=function(t){(0,i.doObtainResults)(t,R,_)},R=function(t){c.default.dispatch((0,u.updateSiteModelChecklist)({currentChecklistResults:M((0,r.lowerCaseKeys)(t.data.data))}))},M=function(t){var n={};return t.forEach((function(t){n[t.targetid]=n.hasOwnProperty(t.targetid)?n[t.targetid]:{},n[t.targetid][t.goalid]=t.result})),n},_=function(t){console.dir(t)},L=function(t,n,e,c){(0,i.doUpdateResult)(t,n,e,c,(function(n){return G(t,n)}),U)},G=function(t,n){j(t)},U=function(t){console.dir(t)},D=function(t){(0,i.doSaveChecklistGoal)(t,x,E)},E=function(t){console.dir(t)}},2111:function(t,n,e){e.r(n),e.d(n,{doObtainChecklistDetails:function(){return o},doObtainChecklists:function(){return r},doObtainGoals:function(){return l},doObtainResults:function(){return s},doObtainTargets:function(){return a},doSaveChecklistGoal:function(){return p},doSaveChecklistTarget:function(){return f},doUpdateChecklist:function(){return h},doUpdateResult:function(){return d}});var i=e(4569),c=e.n(i),u=e(4452),r=function(t,n){c().get((0,u.apiURL)()+"/cbChecklist/").then((function(n){return t(n)})).catch((function(t){return n(t)}))},o=function(t,n,e){c().get((0,u.apiURL)()+"/cbChecklist/"+t).then((function(t){return n(t)})).catch((function(t){return e(t)}))},a=function(t,n,e){c().get((0,u.apiURL)()+"/cbChecklist/targets/"+t).then((function(t){return n(t)})).catch((function(t){return e(t)}))},l=function(t,n,e){c().get((0,u.apiURL)()+"/cbChecklist/goals/"+t).then((function(t){return n(t)})).catch((function(t){return e(t)}))},s=function(t,n,e){c().get((0,u.apiURL)()+"/cbChecklist/results/"+t).then((function(t){return n(t)})).catch((function(t){return e(t)}))},d=function(t,n,e,i,r,o){c().post((0,u.apiURL)()+"/cbChecklist/results/"+t,{goal:e,target:n,result:i}).then((function(t){return r(t)})).catch((function(t){return o(t)}))},f=function(t,n,e){c().post((0,u.apiURL)()+"/cbChecklist/targets",{item:t}).then((function(t){return n(t)})).catch((function(t){return e(t)}))},h=function(t,n,e){c().post((0,u.apiURL)()+"/cbChecklist/",{item:t}).then((function(t){return n(t)})).catch((function(t){return e(t)}))},p=function(t,n,e){c().post((0,u.apiURL)()+"/cbChecklist/goals",{item:t}).then((function(t){return n(t)})).catch((function(t){return e(t)}))}}}]);
//# sourceMappingURL=559.eaab6510.chunk.js.map