"use strict";(self.webpackChunkcbChecklist=self.webpackChunkcbChecklist||[]).push([[899,8760,7463,4565,2111],{8760:function(t,e,n){n.r(e),n.d(e,{updateSiteModelChecklist:function(){return a}});var a=function(t){return{type:"UPDATE_SITE_MODEL_CHECKLIST",payload:t}}},7463:function(t,e,n){n.r(e),n.d(e,{addControlSet:function(){return l},addTabGroup:function(){return c},addTabPanelGroup:function(){return d},addTabToGroup:function(){return u},addToControlBlock:function(){return a},removeFromControlBlock:function(){return o},removeTabFromGroup:function(){return r},removeTabGroup:function(){return i},toggleTab:function(){return s}});var a=function(t){return{type:"ADD_TO_CONTROL_BLOCK",payload:t}},o=function(t){return{type:"REMOVE_FROM_CONTROL_BLOCK",payload:t}},c=function(t){return{type:"ADD_TAB_GROUP",payload:t}},i=function(t){return{type:"REMOVE_TAB_GROUP",payload:t}},u=function(t){return{type:"ADD_TAB_TO_GROUP",payload:t}},r=function(t,e){return{type:"REMOVE_TAB_FROM_GROUP",payload:{groupName:t,keyName:e}}},s=function(t,e){return{type:"TOGGLE_TAB",payload:{groupName:t,key:e}}},d=function(t){return{type:"ADD_TAB_PANEL_GROUP",payload:t}},l=function(t){return{type:"ADD_CONTROLS",payload:t}}},899:function(t,e,n){n.r(e);var a=n(8687),o=n(2791),c=n(4565),i=n(8026),u=n(7463),r=n(473),s=n(184);e.default=(0,a.$j)((function(t){return{siteModelChecklist:t.siteModelChecklist}}),{})((function(){var t,e,n;(0,o.useEffect)((function(){window.SITEMODEL||(0,c.checkWindow)(),i.default.dispatch((0,u.addTabGroup)((0,r.createTabGroupObject)("checkTabs","tabMuted",{},"",{},"kimTabActive"))),i.default.dispatch((0,u.addTabToGroup)((0,r.createTabModel)("Choose","checkTabs","choose",!0,!0,{},""))),i.default.dispatch((0,u.addTabToGroup)((0,r.createTabModel)("Manage","checkTabs","manage",!0,!1,{},""))),i.default.dispatch((0,u.addTabToGroup)((0,r.createTabModel)("Execute","checkTabs","execute",!0,!1,{},""))),i.default.dispatch((0,u.addTabGroup)((0,r.createTabGroupObject)("manageTabs","tabMuted",{},"",{},"kimTabActive"))),i.default.dispatch((0,u.addTabToGroup)((0,r.createTabModel)("Details","manageTabs","details",!0,!0,{},""))),i.default.dispatch((0,u.addTabToGroup)((0,r.createTabModel)("Targets","manageTabs","targets",!0,!1,{},""))),i.default.dispatch((0,u.addTabToGroup)((0,r.createTabModel)("Goals","manageTabs","goals",!0,!1,{},"")))}),[]);var a=null===(t=i.default.getState().siteModelChecklist)||void 0===t?void 0:t.windowSetup;(0,o.useEffect)((function(){a&&(0,c.obtainChecklists)()}),[a]);var d=null===(e=i.default.getState().siteModelChecklist)||void 0===e||null===(n=e.currentChecklist)||void 0===n?void 0:n.id;return(0,o.useEffect)((function(){d&&((0,c.obtainTargets)(d),(0,c.obtainGoals)(d),(0,c.obtainResults)(d))}),[d]),(0,s.jsx)("div",{style:{display:"none"},children:"Monitor"})}))},4565:function(t,e,n){n.r(e),n.d(e,{checkWindow:function(){return r},makeCheckListInactive:function(){return h},obtainChecklistDetails:function(){return T},obtainChecklists:function(){return p},obtainGoals:function(){return y},obtainResults:function(){return _},obtainTargets:function(){return O},saveChecklistGoal:function(){return D},saveChecklistTarget:function(){return l},updateCheckList:function(){return s},updateResult:function(){return m}});var a=n(2111),o=n(8026),c=n(8760),i=n(4452),u=0,r=function(){var t=setInterval((function(){var e;(null!==(e=window.SITEMODEL)&&void 0!==e&&e.exists()||3===u)&&(o.default.dispatch((0,c.updateSiteModelChecklist)({windowSetup:!0})),clearInterval(t)),u++}),3e3)},s=function(t){(0,a.doUpdateChecklist)(t,b,d)},d=function(t){console.dir(t)},l=function(t){(0,a.doSaveChecklistTarget)(t,v,f)},f=function(t){console.dir(t)},h=function(t){console.dir("Making inactive")},p=function(){(0,a.doObtainChecklists)(b,k)},b=function(t){o.default.dispatch((0,c.updateSiteModelChecklist)({allChecklists:(0,i.lowerCaseKeys)(t.data.data)}))},k=function(t){console.dir(t)},T=function(t){(0,a.doObtainChecklistDetails)(t,C,g)},C=function(t){o.default.dispatch((0,c.updateSiteModelChecklist)({currentChecklist:(0,i.lowerCaseKeys)(t.data.data)}))},g=function(t){console.dir(t)},O=function(t){(0,a.doObtainTargets)(t,v,G)},v=function(t){console.dir("Processing target return"),o.default.dispatch((0,c.updateSiteModelChecklist)({currentChecklistTargets:(0,i.lowerCaseKeys)(t.data.data)}))},G=function(t){console.dir(t)},y=function(t){(0,a.doObtainGoals)(t,M,R)},M=function(t){o.default.dispatch((0,c.updateSiteModelChecklist)({currentChecklistGoals:(0,i.lowerCaseKeys)(t.data.data)}))},R=function(t){console.dir(t)},_=function(t){(0,a.doObtainResults)(t,L,S)},L=function(t){o.default.dispatch((0,c.updateSiteModelChecklist)({currentChecklistResults:E((0,i.lowerCaseKeys)(t.data.data))}))},E=function(t){var e={};return t.forEach((function(t){e[t.testpackage]=e.hasOwnProperty(t.testpackage)?e[t.testpackage]:{},e[t.testpackage][t.goaluuid]=t.result})),e},S=function(t){console.dir(t)},m=function(t,e,n,o){(0,a.doUpdateResult)(t,e,n,o,(function(e){return U(t,e)}),w)},U=function(t,e){_(t)},w=function(t){console.dir(t)},D=function(t){(0,a.doSaveChecklistGoal)(t,M,A)},A=function(t){console.dir(t)}},2111:function(t,e,n){n.r(e),n.d(e,{doObtainChecklistDetails:function(){return u},doObtainChecklists:function(){return i},doObtainGoals:function(){return s},doObtainResults:function(){return d},doObtainTargets:function(){return r},doSaveChecklistGoal:function(){return p},doSaveChecklistTarget:function(){return f},doUpdateChecklist:function(){return h},doUpdateResult:function(){return l}});var a=n(4569),o=n.n(a),c=n(4452),i=function(t,e){o().get((0,c.apiURL)()+"/cbChecklist/").then((function(e){return t(e)})).catch((function(t){return e(t)}))},u=function(t,e,n){o().get((0,c.apiURL)()+"/cbChecklist/"+t).then((function(t){return e(t)})).catch((function(t){return n(t)}))},r=function(t,e,n){o().get((0,c.apiURL)()+"/cbChecklist/targets/"+t).then((function(t){return e(t)})).catch((function(t){return n(t)}))},s=function(t,e,n){o().get((0,c.apiURL)()+"/cbChecklist/goals/"+t).then((function(t){return e(t)})).catch((function(t){return n(t)}))},d=function(t,e,n){o().get((0,c.apiURL)()+"/cbChecklist/results/"+t).then((function(t){return e(t)})).catch((function(t){return n(t)}))},l=function(t,e,n,a,i,u){o().post((0,c.apiURL)()+"/cbChecklist/results/"+t,{goal:n,target:e,result:a}).then((function(t){return i(t)})).catch((function(t){return u(t)}))},f=function(t,e,n){o().post((0,c.apiURL)()+"/cbChecklist/targets",{item:t}).then((function(t){return e(t)})).catch((function(t){return n(t)}))},h=function(t,e,n){o().post((0,c.apiURL)()+"/cbChecklist/",{item:t}).then((function(t){return e(t)})).catch((function(t){return n(t)}))},p=function(t,e,n){o().post((0,c.apiURL)()+"/cbChecklist/goals",{item:t}).then((function(t){return e(t)})).catch((function(t){return n(t)}))}}}]);
//# sourceMappingURL=899.936e9052.chunk.js.map