"use strict";(self.webpackChunkcbChecklist=self.webpackChunkcbChecklist||[]).push([[91,8760,7463,2376,899,5896,2725,2688,4565,2111],{8760:function(t,e,n){n.r(e),n.d(e,{updateSiteModelChecklist:function(){return i}});var i=function(t){return{type:"UPDATE_SITE_MODEL_CHECKLIST",payload:t}}},7463:function(t,e,n){n.r(e),n.d(e,{addControlSet:function(){return d},addTabGroup:function(){return c},addTabPanelGroup:function(){return s},addTabToGroup:function(){return u},addToControlBlock:function(){return i},removeFromControlBlock:function(){return a},removeTabFromGroup:function(){return r},removeTabGroup:function(){return o},toggleTab:function(){return l}});var i=function(t){return{type:"ADD_TO_CONTROL_BLOCK",payload:t}},a=function(t){return{type:"REMOVE_FROM_CONTROL_BLOCK",payload:t}},c=function(t){return{type:"ADD_TAB_GROUP",payload:t}},o=function(t){return{type:"REMOVE_TAB_GROUP",payload:t}},u=function(t){return{type:"ADD_TAB_TO_GROUP",payload:t}},r=function(t,e){return{type:"REMOVE_TAB_FROM_GROUP",payload:{groupName:t,keyName:e}}},l=function(t,e){return{type:"TOGGLE_TAB",payload:{groupName:t,key:e}}},s=function(t){return{type:"ADD_TAB_PANEL_GROUP",payload:t}},d=function(t){return{type:"ADD_CONTROLS",payload:t}}},2376:function(t,e,n){n.r(e);var i=n(4565),a=n(184);e.default=function(t){var e=t.checklistuuid,n=t.goal,c=t.target,o=t.result;return(0,a.jsx)("input",{type:"checkbox",checked:o,onChange:function(t){return function(t,e,n,a){(0,i.updateResult)(t,e,n,a?1:0)}(e,c,n,t.currentTarget.checked)}})}},899:function(t,e,n){n.r(e);var i=n(8687),a=n(2791),c=n(4565),o=n(8026),u=n(7463),r=n(473),l=n(184);e.default=(0,i.$j)((function(t){return{siteModelChecklist:t.siteModelChecklist}}),{})((function(){var t,e,n;(0,a.useEffect)((function(){window.SITEMODEL||(0,c.checkWindow)(),o.default.dispatch((0,u.addTabGroup)((0,r.createTabGroupObject)("checkTabs","tabMuted",{},"",{},"kimTabActive"))),o.default.dispatch((0,u.addTabToGroup)((0,r.createTabModel)("Choose","checkTabs","choose",!0,!0,{},""))),o.default.dispatch((0,u.addTabToGroup)((0,r.createTabModel)("Manage","checkTabs","manage",!0,!1,{},""))),o.default.dispatch((0,u.addTabToGroup)((0,r.createTabModel)("Execute","checkTabs","execute",!0,!1,{},""))),o.default.dispatch((0,u.addTabGroup)((0,r.createTabGroupObject)("manageTabs","tabMuted",{},"",{},"kimTabActive"))),o.default.dispatch((0,u.addTabToGroup)((0,r.createTabModel)("Details","manageTabs","details",!0,!0,{},""))),o.default.dispatch((0,u.addTabToGroup)((0,r.createTabModel)("Targets","manageTabs","targets",!0,!1,{},""))),o.default.dispatch((0,u.addTabToGroup)((0,r.createTabModel)("Goals","manageTabs","goals",!0,!1,{},"")))}),[]);var i=null===(t=o.default.getState().siteModelChecklist)||void 0===t?void 0:t.windowSetup;(0,a.useEffect)((function(){i&&(0,c.obtainChecklists)()}),[i]);var s=null===(e=o.default.getState().siteModelChecklist)||void 0===e||null===(n=e.currentChecklist)||void 0===n?void 0:n.id;return(0,a.useEffect)((function(){s&&((0,c.obtainTargets)(s),(0,c.obtainGoals)(s),(0,c.obtainResults)(s))}),[s]),(0,l.jsx)("div",{style:{display:"none"},children:"Monitor"})}))},91:function(t,e,n){n.r(e);var i=n(8026),a=(n(899),n(2725)),c=n(8687),o=n(5896),u=n(184);e.default=(0,c.$j)((function(t){return{siteModelChecklist:t.siteModelChecklist}}),{})((function(){var t,e,n,c,r,l=null===(t=i.default.getState().siteModelChecklist)||void 0===t?void 0:t.currentChecklist,s=null!==(e=i.default.getState().siteModelChecklist)&&void 0!==e&&e.currentChecklistTargets?null===(n=i.default.getState().siteModelChecklist)||void 0===n?void 0:n.currentChecklistTargets:[],d=null!==(c=i.default.getState().siteModelChecklist)&&void 0!==c&&c.currentChecklistGoals?i.default.getState().siteModelChecklist.currentChecklistGoals:[],f=null!==(r=i.default.getState().siteModelChecklist)&&void 0!==r&&r.currentChecklistResults?i.default.getState().siteModelChecklist.currentChecklistResults:[];return(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"row",children:[(0,u.jsx)("div",{className:"col-9",children:(0,u.jsx)("h2",{children:null===l||void 0===l?void 0:l.name})}),(0,u.jsx)("div",{className:"col-3",children:(0,u.jsx)(o.default,{})})]}),(0,u.jsxs)("table",{className:"table table-striped table-bordered",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{}),(0,u.jsx)("th",{children:"Target"}),d.filter((function(t){var e;return null===(e=t.label)||void 0===e?void 0:e.length})).map((function(t){return(0,u.jsx)("td",{children:t.label})}))]})}),(0,u.jsx)("tbody",{children:s.filter((function(t){return 0===t.parentid})).map((function(t){return(0,u.jsx)(a.default,{target:t,goals:d,results:f,depth:0},t.checklistuuid+t.testpackage)}))})]})]})}))},5896:function(t,e,n){n.r(e);var i=n(2688),a=n(4565),c=n(8026),o=n(184);e.default=function(t){var e=t.classes?t.classes:"btn btn-info";return(0,o.jsx)("button",{onClick:function(){return function(){var t,e=null===(t=c.default.getState().siteModelChecklist)||void 0===t?void 0:t.currentChecklist.id;(0,a.obtainTargets)(e),(0,a.obtainGoals)(e),(0,a.obtainResults)(e)}()},className:e,children:(0,o.jsx)(i.default,{})})}},2725:function(t,e,n){n.r(e);var i=n(885),a=n(2376),c=n(8026),o=n(2791),u=n(184);e.default=function t(e){var n,r=e.target,l=e.goals,s=e.results,d=e.depth,f=(0,o.useState)(!1),h=(0,i.Z)(f,2),p=h[0],k=h[1],C=(null!==(n=c.default.getState().siteModelChecklist)&&void 0!==n&&n.currentChecklistTargets?c.default.getState().siteModelChecklist.currentChecklistTargets:[]).filter((function(t){return t.parentid===r.id})),b=10*d,g=!!c.default.getState().siteModelChecklist.showAllChildren&&c.default.getState().siteModelChecklist.showAllChildren;return(0,o.useEffect)((function(){k(g)}),[g]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{onClick:function(){return k(!p)},children:C.length?p?"-":"+":null}),(0,u.jsx)("td",{style:{paddingLeft:b+"%"},children:null===r||void 0===r?void 0:r.testpackage}),l.filter((function(t){return t.label.length})).map((function(t){var e=s[null===r||void 0===r?void 0:r.id]&&s[null===r||void 0===r?void 0:r.id][null===t||void 0===t?void 0:t.id]?s[null===r||void 0===r?void 0:r.id][null===t||void 0===t?void 0:t.id]:0;return(0,u.jsx)("td",{children:(0,u.jsx)(a.default,{checklistuuid:r.checklistuuid,goal:t.id,target:r.id,result:e},t.id+r.testpackage)})}))]}),C.length&&p?C.map((function(e){return(0,u.jsx)(t,{target:e,goals:l,results:s,depth:d+1},e.checklistuuid+e.testpackage)})):null]})}},2688:function(t,e,n){n.r(e);n(2791);var i=n(184);e.default=function(t){var e=t.left?t.left:0,n=t.top?t.top:0,a=t.size?t.size:16,c=t.color?t.color:"currentColor";return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:a,fill:c,style:{transform:"translate("+e+"px, "+n+"px)"},className:"bi bi-arrow-repeat",viewBox:"0 0 16 16",children:[(0,i.jsx)("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"})]})}},4565:function(t,e,n){n.r(e),n.d(e,{checkWindow:function(){return r},makeCheckListInactive:function(){return h},obtainChecklistDetails:function(){return b},obtainChecklists:function(){return p},obtainGoals:function(){return x},obtainResults:function(){return y},obtainTargets:function(){return T},saveChecklistGoal:function(){return E},saveChecklistTarget:function(){return d},updateCheckList:function(){return l},updateResult:function(){return w}});var i=n(2111),a=n(8026),c=n(8760),o=n(4452),u=0,r=function(){var t=setInterval((function(){var e;(null!==(e=window.SITEMODEL)&&void 0!==e&&e.exists()||3===u)&&(a.default.dispatch((0,c.updateSiteModelChecklist)({windowSetup:!0})),clearInterval(t)),u++}),3e3)},l=function(t){(0,i.doUpdateChecklist)(t,k,s)},s=function(t){console.dir(t)},d=function(t){(0,i.doSaveChecklistTarget)(t,M,f)},f=function(t){console.dir(t)},h=function(t){console.dir("Making inactive")},p=function(){(0,i.doObtainChecklists)(k,C)},k=function(t){a.default.dispatch((0,c.updateSiteModelChecklist)({allChecklists:(0,o.lowerCaseKeys)(t.data.data)}))},C=function(t){console.dir(t)},b=function(t){(0,i.doObtainChecklistDetails)(t,g,v)},g=function(t){a.default.dispatch((0,c.updateSiteModelChecklist)({currentChecklist:(0,o.lowerCaseKeys)(t.data.data)}))},v=function(t){console.dir(t)},T=function(t){(0,i.doObtainTargets)(t,M,O)},M=function(t){console.dir("Processing target return"),a.default.dispatch((0,c.updateSiteModelChecklist)({currentChecklistTargets:(0,o.lowerCaseKeys)(t.data.data)}))},O=function(t){console.dir(t)},x=function(t){(0,i.doObtainGoals)(t,R,m)},R=function(t){a.default.dispatch((0,c.updateSiteModelChecklist)({currentChecklistGoals:(0,o.lowerCaseKeys)(t.data.data)}))},m=function(t){console.dir(t)},y=function(t){(0,i.doObtainResults)(t,G,j)},G=function(t){a.default.dispatch((0,c.updateSiteModelChecklist)({currentChecklistResults:S((0,o.lowerCaseKeys)(t.data.data))}))},S=function(t){var e={};return t.forEach((function(t){e[t.testpackage]=e.hasOwnProperty(t.testpackage)?e[t.testpackage]:{},e[t.testpackage][t.goaluuid]=t.result})),e},j=function(t){console.dir(t)},w=function(t,e,n,a){(0,i.doUpdateResult)(t,e,n,a,(function(e){return L(t,e)}),_)},L=function(t,e){y(t)},_=function(t){console.dir(t)},E=function(t){(0,i.doSaveChecklistGoal)(t,R,A)},A=function(t){console.dir(t)}},2111:function(t,e,n){n.r(e),n.d(e,{doObtainChecklistDetails:function(){return u},doObtainChecklists:function(){return o},doObtainGoals:function(){return l},doObtainResults:function(){return s},doObtainTargets:function(){return r},doSaveChecklistGoal:function(){return p},doSaveChecklistTarget:function(){return f},doUpdateChecklist:function(){return h},doUpdateResult:function(){return d}});var i=n(4569),a=n.n(i),c=n(4452),o=function(t,e){a().get((0,c.apiURL)()+"/cbChecklist/").then((function(e){return t(e)})).catch((function(t){return e(t)}))},u=function(t,e,n){a().get((0,c.apiURL)()+"/cbChecklist/"+t).then((function(t){return e(t)})).catch((function(t){return n(t)}))},r=function(t,e,n){a().get((0,c.apiURL)()+"/cbChecklist/targets/"+t).then((function(t){return e(t)})).catch((function(t){return n(t)}))},l=function(t,e,n){a().get((0,c.apiURL)()+"/cbChecklist/goals/"+t).then((function(t){return e(t)})).catch((function(t){return n(t)}))},s=function(t,e,n){a().get((0,c.apiURL)()+"/cbChecklist/results/"+t).then((function(t){return e(t)})).catch((function(t){return n(t)}))},d=function(t,e,n,i,o,u){a().post((0,c.apiURL)()+"/cbChecklist/results/"+t,{goal:n,target:e,result:i}).then((function(t){return o(t)})).catch((function(t){return u(t)}))},f=function(t,e,n){a().post((0,c.apiURL)()+"/cbChecklist/targets",{item:t}).then((function(t){return e(t)})).catch((function(t){return n(t)}))},h=function(t,e,n){a().post((0,c.apiURL)()+"/cbChecklist/",{item:t}).then((function(t){return e(t)})).catch((function(t){return n(t)}))},p=function(t,e,n){a().post((0,c.apiURL)()+"/cbChecklist/goals",{item:t}).then((function(t){return e(t)})).catch((function(t){return n(t)}))}}}]);
//# sourceMappingURL=91.de9d4553.chunk.js.map